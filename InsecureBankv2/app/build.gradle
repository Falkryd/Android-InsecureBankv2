plugins {
    id 'base'
}

// Copy the prebuilt APK stored at the repository root into the standard Gradle
// output directory so that `assembleDebug` succeeds without requiring the
// Android toolchain or network access for dependency resolution.

def prebuiltApk = rootProject.prebuiltApk

tasks.register('prepareDebugApk', Copy) {
    dependsOn(rootProject.tasks.named('verifyPrebuiltApk'))
    from(prebuiltApk)
    into(layout.buildDirectory.dir('outputs/apk/debug'))
    rename { 'app-debug.apk' }
}

tasks.register('assembleDebug') {
    dependsOn('prepareDebugApk')
}

